<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ajax Demo Program</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
      background-color: #f4f4f4;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
    }
    h2 {
      color: #666;
    }
    button {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 10px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 4px;
    }
    pre {
      background-color: #f8f8f8;
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 10px;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1><center>Ajax Demo Program</center></h1>
    <h2>a. Ajax-like operation without jQuery</h2>
    <button onclick="operationWithoutJQuery()">Perform Operation (without jQuery)</button>
    <pre id="result-a">Result will appear here...</pre>

    <h2>b. Ajax-like operation with jQuery</h2>
    <button onclick="operationWithJQuery()">Perform Operation (with jQuery)</button>
    <pre id="result-b">Result will appear here...</pre>

    <h2>c. jQuery-like getJSON() method</h2>
    <button onclick="getJSONOperation()">Get JSON</button>
    <pre id="result-c">Result will appear here...</pre>

    <h2>d. jQuery parseJSON() method</h2>
    <button onclick="parseJSONExample()">Parse JSON</button>
    <pre id="result-d">Result will appear here...</pre>
  </div>

  <script>
    // Simulated data for testing
    const simulatedData = {
      text: "This is a sample text from a simulated server response.",
      json: {
        name: "sharath",
        age: 20,
        city: "New York"
      }
    };

    // a. Ajax-like operation without jQuery (using vanilla JS)
    function operationWithoutJQuery() {
      const xhr = new XMLHttpRequest();
      xhr.open("GET", "sample.txt", true);
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            document.getElementById("result-a").textContent = xhr.responseText;
          } else {
            document.getElementById("result-a").textContent = "Failed to load sample.txt.";
          }
        }
      };
      xhr.send();
    }

    // b. Ajax-like operation with jQuery
    function operationWithJQuery() {
      $.ajax({
        url: 'sample.txt',
        method: 'GET',
        success: function(result) {
          $("#result-b").text(result);
        },
        error: function() {
          $("#result-b").text("Failed to load sample.txt.");
        }
      });
    }

    // c. jQuery-like getJSON() method
    function getJSONOperation() {
      // Simulating the retrieval of JSON data for testing
      $.getJSON('sample.json', function(result) {
        $("#result-c").text(JSON.stringify(result, null, 2));
      }).fail(function() {
        $("#result-c").text("Error loading JSON data or sample.json missing.");
      });
    }

    // d. jQuery parseJSON() method
    function parseJSONExample() {
      const jsonString = JSON.stringify(simulatedData.json);
      const jsonObject = JSON.parse(jsonString);
      $("#result-d").text(JSON.stringify(jsonObject, null, 2));
    }
  </script>
</body>
</html>
